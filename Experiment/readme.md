# 光计算卷积文件生成与读取说明

本项目提供了一系列 MATLAB 脚本，用于生成与读取光计算过程所需的输入输出数据，支持两种光计算方案：位切片方案与传统方案，适用于 BraTS 和 MNIST 两类数据集。  
通过该工具，可将图像数据转换为光计算输入格式，并将光计算结果还原为卷积后的图像，便于对比分析不同方案的差异与效果。

---

## 数据说明

- BraTS 数据集使用随机选取的图像样本 `output_1480.csv` 作为输入源。
- MNIST 数据集选取测试集中前 200 张图像样本，存储于 `test_samples.csv` 文件中。

---

## 目录结构说明

### 一、BraTS 数据集处理

位切片方案：

- `csv_write.m`  
  根据卷积前的图像（如 `output_1480.csv`），生成位切片方案所需的光计算输入文件。

- `csv_read.m`  
  读取位切片方案的光计算输出结果，并转换为卷积后的图像。

传统方案：

- `csv_write_conv.m`  
  生成传统方案所需的光计算输入文件。

- `csv_read_conv.m`  
  读取传统方案的光计算输出结果，转换为卷积后的图像，并可用于对比两种方案的误差分布。

---

### 二、MNIST 数据集处理

位切片方案：

- `csv_write_mnist.m`  
  根据 `test_samples.csv` 中的图像数据，生成位切片方案所需的光计算输入文件。

- `csv_read_mnist.m`  
  将位切片方案的光计算输出结果转换为卷积后的图像。

传统方案：

- `csv_write_mnist_conv.m`  
  生成传统方案所需的 MNIST 光计算输入文件。

- `csv_read_mnist_conv.m`  
  读取传统方案的光计算输出结果，转换为卷积后的图像，并可用于对比两种方案的误差分布。

---

## 使用说明

1. 选择方案：根据实验需求决定使用位切片方案或传统方案。
2. 选择数据类型：确定是处理 BraTS 数据还是 MNIST 数据。
3. 执行流程：
   - 使用 `csv_write*.m` 脚本生成光计算输入文件；
   - 将输入文件送入光计算平台执行卷积操作；
   - 使用 `csv_read*.m` 脚本读取输出结果并还原为图像。

---

## 环境要求

- MATLAB R2023a

---

如有问题或需求，请联系项目维护者。
